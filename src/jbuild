(library
 ((name erlsub)
  (public_name erlsub)
  (libraries (batteries))
  (preprocess no_preprocessing)))

(rule
 ((targets (lexer.ml))
  (deps    (lexer.mll))
  (action  (bash "ocamllex ${<}"))))

(rule
 ((targets (parser.ml parser.mli))
  (deps    (parser.mly))
  (action  (bash "menhir ${<}"))))
